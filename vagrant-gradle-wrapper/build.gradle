import com.manning.gia.vm.Vagrant

ext.targetedVagrantProjectDir = file('../vagrant-azure')

task vagrantUp(type: Vagrant) {
    commands = ['up']
    dir = targetedVagrantProjectDir
	
}

task vagrantReload(type: Vagrant) {
    commands = ['reload']
    dir = targetedVagrantProjectDir
}
vagrantReload.depensOn vagrantUp

task vagrantSshConfig(type: Vagrant) {
    commands = ['ssh-config']
    dir = targetedVagrantProjectDir
}

task vagrantStatus(type: Vagrant) {
    commands = ['status']
    dir = targetedVagrantProjectDir
}
vagrantStatus.depensOn vagrantReload

task vagrantProvision(type: Vagrant) {
    commands = ['provision']
    dir = targetedVagrantProjectDir
}
vagrantProvision.depensOn vagrantStatus
task vagrantSuspend(type: Vagrant) {
    commands = ['suspend']
    dir = targetedVagrantProjectDir
} 

task vagrantResume(type: Vagrant) {
    commands = ['resume']
    dir = targetedVagrantProjectDir
}

vagrantRdp.dependsOn vagrantProvision


task vagrantRdp(type: Vagrant) {
    commands = ['rdp']
    dir = targetedVagrantProjectDir
}
vagrantHalt.dependsOn vagrantRdp


task vagrantHalt(type: Vagrant) {
    commands = ['halt']
    dir = targetedVagrantProjectDir
}
task vagrantTests(type: Vagrant){
		commands = ['destroy', '--force']
		dir = targetedVagrantProjectDir
}
vagrantTests.dependsOn vagrantHalt












